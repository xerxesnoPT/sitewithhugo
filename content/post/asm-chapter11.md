---
title: "asm-标志寄存器"
date: 2017-12-25T13:06:01+08:00
draft: false
categories: ['二进制']
tags: ['asm']
---

## flag寄存器（标志寄存器）

1. 用来存储相关指令的某些执行结果
2. 用来为cpu执行相关指令提供行为依据
3. 用来控制cpu的相关工作方式

## flag寄存器位置标志

- 0:CF 进位标志
    用于无符号数，记录了最高有效位向更高位的进位或借位
- 2:PF 奇偶标志
    所有bit位中1的个数为偶数，pf=1
- 4:AF
- 6:ZF 零标志位
    如果上一步操作结果为0，则zf的值为1
- 7:SF 符号标志位
    1为负，0为正
- 8:TF
- 9:IF
- 10:DF
- 11:OF 溢出标志
    用于有符号数运算时的溢出 8位-128~127 。16位-32768~32767

## adc指令

是带进位加法指令。
adc ax,bx 实现的功能是(ax)=(ax)+(bx)+cf
可以从进位运算来理解

## sbb指令

sbb ax,bx 实现的功能是(ax)=(ax)-(bx)-cf

## cmp指令

比较指令，其实相当于减法指令，只是不保存结果。而是对flag寄存器产生影响

格式
```asm
cmp 操作对象1,操作对象2
```
## 无符号数比较

- je(=) , 等于则转移 , zf=1 
- jne(!=) , 不等于则转移 , zf=0 
- jb(<) , 低于则转移 , cf=1 
- jnb(>=) , 不低于则转移 , cf=0 
- ja(>) , 高于则转移 ,  cf=0且zf=0
- jna(<=), 不高于则转移, cf=1 或者zf=1
